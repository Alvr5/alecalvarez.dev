<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Reviews Simples</title>
  <style>
    body{font-family:Arial;margin:0;background:#000000;padding:20px}
    h1{text-align:center;margin-bottom:20px}
    .container{max-width:600px;margin:auto;background:rgb(255, 0, 0);padding:20px;border-radius:10px}
    input,textarea{width:100%;padding:10px;margin:5px 0;border-radius:6px;border:1px solid #ccc}
    button{padding:10px 14px;border:none;border-radius:6px;background:#007bff;color:white;cursor:pointer;margin-top:10px}
    .review{background:#fafafa;border:1px solid #ddd;padding:10px;border-radius:6px;margin-top:10px}
    .rating{font-weight:bold;color:#ff9800}
  </style>
</head>
<body>
  <h1 style="color: red;">ReseÃ±as</h1>
  <div class="container">

    <form id="reviewForm">
      <input id="name" type="text" placeholder="Tu nombre" required style="width: 95%;">
      <textarea id="comment" placeholder="Tu reseÃ±a" required style="width: 95%;"></textarea>

      <label style="color: white; font-weight: bold;">PuntuaciÃ³n:</label>
      <select id="rating" required>
        <option value="5">â˜…â˜…â˜…â˜…â˜… (5)</option>
        <option value="4">â˜…â˜…â˜…â˜…â˜† (4)</option>
        <option value="3">â˜…â˜…â˜…â˜†â˜† (3)</option>
        <option value="2">â˜…â˜…â˜†â˜†â˜† (2)</option>
        <option value="1">â˜…â˜†â˜†â˜†â˜† (1)</option>
      </select>

      <button type="submit" style="background-color: black; color: white; width: 100px; height: 40px;">Enviar</button>
    </form>

    <h2 style="margin-top:20px; color: white;">Todas las reseÃ±as</h2>
    <div id="reviewsList"></div>
  </div>

  <script>
  const list = document.getElementById('reviewsList');
  const form = document.getElementById('reviewForm');
  const KEY = 'reviews_simple_v1';

  // ðŸ‘‰ Recuperar reseÃ±as existentes, o crear un array vacÃ­o si no hay nada
  let reviews = JSON.parse(localStorage.getItem(KEY)) || [];

  function render(){
    list.innerHTML = '';
    reviews.forEach(r =>{
      const div = document.createElement('div');
      div.className = 'review';
      div.innerHTML = `<div><strong>${r.name}</strong></div>
                       <div class="rating">${'â˜…'.repeat(r.rating)}${'â˜†'.repeat(5-r.rating)}</div>
                       <div>${r.text}</div>`;
      list.appendChild(div);
    });

    // Guardar siempre despuÃ©s de renderizar
    localStorage.setItem(KEY, JSON.stringify(reviews));
  }

  form.addEventListener('submit', e=>{
    e.preventDefault();
    const name = document.getElementById('name').value.trim();
    const text = document.getElementById('comment').value.trim();
    const rating = Number(document.getElementById('rating').value);

    reviews.push({name, text, rating});
    form.reset();
    render();
  });

  render();
</script>


  </script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
</body>
</html>